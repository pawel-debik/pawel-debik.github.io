	<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
	<title>React Standalone Test</title>
	<meta name="viewport" content="initial-scale=1.0, minimum-scale=1.0" />
	<link rel="stylesheet" type="text/css" href="styles/style.css">
	<script src = "https://unpkg.com/react@16/umd/react.development.js" crossorigin></script>
	<script src = "https://unpkg.com/react-dom@16/umd/react-dom.development.js" crossorigin></script>
	<script src = "https://unpkg.com/babel-standalone@6.26.0/babel.min.js"></script>
</head>
<body>
	<div id = "root" class = "wrapper"></div>
	
	<script type = "text/babel">

		const App = function(){

			const [label, changeLabel] = React.useState();
			const [titleClass, changeTitleClass] = React.useState('soundboard__active-sound');

			// Make array so that we can map this array to a new one when user uses filter
			const buttonArraySmall = [
					{'url': 'https://raw.githubusercontent.com/pawel-debik/react-standalone-test-1/master/sounds/breh.mp3', 'button_label': 'Breh'}, 
					{'url': 'https://raw.githubusercontent.com/pawel-debik/react-standalone-test-1/master/sounds/dubstep1.mp3', 'button_label': 'Dubstep'}, 
					{'url': 'https://raw.githubusercontent.com/pawel-debik/react-standalone-test-1/master/sounds/easy.mp3', 'button_label': 'Easy!'},
					{'url': 'https://raw.githubusercontent.com/pawel-debik/react-standalone-test-1/master/sounds/huhwhatthe.mp3', 'button_label': 'Huh? What the...'},
					{'url': 'https://raw.githubusercontent.com/pawel-debik/react-standalone-test-1/master/sounds/marioded.mp3', 'button_label': 'Mario Game Over'},
					{'url': 'https://raw.githubusercontent.com/pawel-debik/react-standalone-test-1/master/sounds/afewmomentslater1.mp3', 'button_label': 'A few moments later'},
					{'url': 'https://raw.githubusercontent.com/pawel-debik/react-standalone-test-1/master/sounds/doit1.mp3', 'button_label': 'Do it!'},
					{'url': 'https://raw.githubusercontent.com/pawel-debik/react-standalone-test-1/master/sounds/whyareyourunning.mp3', 'button_label': 'Why you runnin?'},
					{'url': 'https://raw.githubusercontent.com/pawel-debik/react-standalone-test-1/master/sounds/wtbleep.mp3', 'button_label': 'What the !!!'},
					{'url': 'https://raw.githubusercontent.com/pawel-debik/react-standalone-test-1/master/sounds/yaaaa1.mp3', 'button_label': 'Yaaa!'},
					{'url': 'https://raw.githubusercontent.com/pawel-debik/react-standalone-test-1/master/sounds/yay1.mp3', 'button_label': 'Happy kids'},
					{'url': 'https://raw.githubusercontent.com/pawel-debik/react-standalone-test-1/master/sounds/youbetterstop.mp3', 'button_label': 'You better stop!'},
					{'url': 'https://raw.githubusercontent.com/pawel-debik/react-standalone-test-1/master/sounds/zombie1.mp3', 'button_label': 'Zombie'},
					{'url': 'https://raw.githubusercontent.com/pawel-debik/react-standalone-test-1/master/sounds/saywhat.mp3', 'button_label': 'Say what?'},
					{'url': 'https://raw.githubusercontent.com/pawel-debik/react-standalone-test-1/master/sounds/scream1.mp3', 'button_label': 'Scream'},
					{'url': 'https://raw.githubusercontent.com/pawel-debik/react-standalone-test-1/master/sounds/scream2.mp3', 'button_label': 'Scream 2'},
					{'url': 'https://raw.githubusercontent.com/pawel-debik/react-standalone-test-1/master/sounds/scream3.mp3', 'button_label': 'Scream 3'},
					{'url': 'https://raw.githubusercontent.com/pawel-debik/react-standalone-test-1/master/sounds/applause1.mp3', 'button_label': 'Applause'},
					{'url': 'https://raw.githubusercontent.com/pawel-debik/react-standalone-test-1/master/sounds/fatality.mp3', 'button_label': 'Fatality'},
					{'url': 'https://raw.githubusercontent.com/pawel-debik/react-standalone-test-1/master/sounds/toasty.mp3', 'button_label': 'Toasty'},
					{'url': 'https://raw.githubusercontent.com/pawel-debik/react-standalone-test-1/master/sounds/hadouken.mp3', 'button_label': 'Hadouken'},
					{'url': 'https://raw.githubusercontent.com/pawel-debik/react-standalone-test-1/master/sounds/burp1.mp3', 'button_label': 'Burp'},
					{'url': 'https://raw.githubusercontent.com/pawel-debik/react-standalone-test-1/master/sounds/fart1.mp3', 'button_label': 'Fart'},
					{'url': 'https://raw.githubusercontent.com/pawel-debik/react-standalone-test-1/master/sounds/sorrybro.mp3', 'button_label': 'Sorry bro'},
					{'url': 'https://raw.githubusercontent.com/pawel-debik/react-standalone-test-1/master/sounds/shotsfired.mp3', 'button_label': 'Shots fired!'},
					{'url': 'https://raw.githubusercontent.com/pawel-debik/react-standalone-test-1/master/sounds/fbi.mp3', 'button_label': 'FBI. Open up!'},
					{'url': 'https://raw.githubusercontent.com/pawel-debik/react-standalone-test-1/master/sounds/brz1.mp3', 'button_label': 'Explosion'},
					{'url': 'https://raw.githubusercontent.com/pawel-debik/react-standalone-test-1/master/sounds/shing1.mp3', 'button_label': 'Shing'},
					{'url': 'https://raw.githubusercontent.com/pawel-debik/react-standalone-test-1/master/sounds/no1.mp3', 'button_label': 'No!'},
					{'url': 'https://raw.githubusercontent.com/pawel-debik/react-standalone-test-1/master/sounds/nononono.mp3', 'button_label': 'No no no no'},
					{'url': 'https://raw.githubusercontent.com/pawel-debik/react-standalone-test-1/master/sounds/laugh1.mp3', 'button_label': 'Laugh 1'},
					{'url': 'https://raw.githubusercontent.com/pawel-debik/react-standalone-test-1/master/sounds/laugh2.mp3', 'button_label': 'Laugh 2'},
					{'url': 'https://raw.githubusercontent.com/pawel-debik/react-standalone-test-1/master/sounds/laughaudience.mp3', 'button_label': 'Laugh audience'},
					{'url': 'https://raw.githubusercontent.com/pawel-debik/react-standalone-test-1/master/sounds/ohno1.mp3', 'button_label': 'Oh no'},
					{'url': 'https://raw.githubusercontent.com/pawel-debik/react-standalone-test-1/master/sounds/ohno2.mp3', 'button_label': 'Oh no'},
					{'url': 'https://raw.githubusercontent.com/pawel-debik/react-standalone-test-1/master/sounds/heywhathappened.mp3', 'button_label': 'What happened?'},
					{'url': 'https://raw.githubusercontent.com/pawel-debik/react-standalone-test-1/master/sounds/crickets.mp3', 'button_label': 'Crickets'},
					{'url': 'https://raw.githubusercontent.com/pawel-debik/react-standalone-test-1/master/sounds/ibelieve1.mp3', 'button_label': 'I believe I can'},
					{'url': 'https://raw.githubusercontent.com/pawel-debik/react-standalone-test-1/master/sounds/imtrying1.mp3', 'button_label': 'Im trying'},
					{'url': 'https://raw.githubusercontent.com/pawel-debik/react-standalone-test-1/master/sounds/explosion1.mp3', 'button_label': 'Explosion'},
					{'url': 'https://raw.githubusercontent.com/pawel-debik/react-standalone-test-1/master/sounds/9000.mp3', 'button_label': 'Its over 9000!'},
					{'url': 'https://raw.githubusercontent.com/pawel-debik/react-standalone-test-1/master/sounds/nani1.mp3', 'button_label': 'Nani??'},
					{'url': 'https://raw.githubusercontent.com/pawel-debik/react-standalone-test-1/master/sounds/headshot1.wav', 'button_label': 'Head shot'},
					{'url': 'https://raw.githubusercontent.com/pawel-debik/react-standalone-test-1/master/sounds/modem.mp3', 'button_label': 'Modem'},
					{'url': 'https://raw.githubusercontent.com/pawel-debik/react-standalone-test-1/master/sounds/notfunny.mp3', 'button_label': 'Badam. Tsss.'},
					{'url': 'https://raw.githubusercontent.com/pawel-debik/react-standalone-test-1/master/sounds/error1.mp3', 'button_label': 'Windows error'},
					{'url': 'https://raw.githubusercontent.com/pawel-debik/react-standalone-test-1/master/sounds/ratata1.mp3', 'button_label': 'Ratatata'}
				];
			
			// Start with buttonArraySmall (all the buttons), then allow array to be updated when user is using the filter
			const [bunchOfButtons, updateBunchOfButtons] = React.useState(buttonArraySmall);
	
			const doStuff = function(props){
				
				// At first I made a component for showing the title and updated the title label with a state change, but then every child in the parent rerendered and I didn't want that, so maybe this is the more correct way to do it
				const sb = document.querySelector('.soundboard');
				var soundBoardActive = document.createElement("div");
				soundBoardActive.classList.add('soundboard__active-sound');
				soundBoardActive.classList.add('active');

				var activeSoundLabel = document.createElement("p");
				activeSoundLabel.classList.add('active-sound__label')
				soundBoardActive.appendChild(activeSoundLabel);

				var activeSound = document.createTextNode(props.button_label); 
				activeSoundLabel.appendChild(activeSound); 

				var header = document.querySelector('.soundboard__header');
				sb.appendChild(soundBoardActive);

				setTimeout(function(){ sb.removeChild(soundBoardActive); }, 2000); // Removing element after it's faded away

				const audio = new Audio(props.sound)
				audio.play();

				// To Do: can I preload the sounds? Maybe on a mouse hover. Can I check how many title lables are showing, and then stack them on top of each other, instead of having them overlay on top of each other? Can I show the title lable longer, based on the sound duration?
			}

			const SoundButton = function(props) {
				return( <button onClick={() => doStuff(props)} className = {props.style}>{props.button_label}</button> );
			};

			// Compare user input in filter field and compare it to the full button list. The only show the overlap.
			const SoundBoardFilter = function(props){
				const [filter, setFilter] = React.useState('');

				const doFilter = function(e){
					//const items = buttonArraySmall.filter(filterFuction);
					const items = buttonArraySmall.filter(item => item.button_label.toString().toLowerCase().indexOf({filter}.filter) !== -1);

					updateBunchOfButtons(items);
				}

				return(
					<div className = "soundboard__filter">
						<input value={filter}  onChange={e => setFilter(e.target.value)}  className = "filter__searchfield" />
						<button className = "neu button filter__button" onClick = {doFilter}>Find</button>
					</div>
				);
			}


			const ButtonList = function(props){

				return(
					<React.Fragment>
					{bunchOfButtons.map((data, i) => {
						return (<SoundButton key={i} style="neu button" button_label = {data.button_label} sound = {data.url} />) 
					})}
					</React.Fragment>
				)
			}




			return(
				<React.Fragment>				

				<div className = "soundboard">
					<h1 className = "soundboard__header">React Sound Board For Aiden</h1>
					<SoundBoardFilter />
					<div className = "soundboard__elements">
						<ButtonList />
					</div>
				</div>
				<div>
					<p>Good resources</p>
					<ul>
						<li>re read this about input values and stata changes later:  https://upmostly.com/tutorials/react-onchange-events-with-examples</li>
						<li>https://stackoverflow.com/questions/47686345/playing-sound-in-reactjs</li>
						<li>https://reactjs.org/docs/hooks-state.html</li>
					</ul>
				</div>
				</React.Fragment>
			);
		}


		const element = 
		<App />	
		ReactDOM.render(element, document.getElementById('root'));
	</script>
</body>
</html>
